<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://idetools.dev/blog/</id>
    <title>Red Hat IDE Extensions Blog</title>
    <updated>2025-03-10T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://idetools.dev/blog/"/>
    <subtitle>Red Hat IDE Extensions Blog</subtitle>
    <icon>https://idetools.dev/img/rhd-tab.png</icon>
    <entry>
        <title type="html"><![CDATA[Meet LSP4IJ, a new Debug Adapter Protocol for JetBrains-based IDEs]]></title>
        <id>https://idetools.dev/blog/lsp4ij-dap-announcement/</id>
        <link href="https://idetools.dev/blog/lsp4ij-dap-announcement/"/>
        <updated>2025-03-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[LSP4IJ is a free and open-source Language Server Protocol (LSP) client for JetBrains-based IDEs, compatible with both community and enterprise flavors.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://plugins.jetbrains.com/plugin/23257-lsp4ij" target="_blank" rel="noopener noreferrer">LSP4IJ</a> is a free and open-source Language Server Protocol (LSP) client for JetBrains-based IDEs, compatible with both <strong>community</strong> and enterprise flavors.</p>
<p>Since the article <a href="https://idetools.dev/blog/lsp4ij-announcement/" target="_blank" rel="noopener noreferrer">Meet LSP4IJ, a new LSP Client for JetBrains-based IDEs</a> was written, LSP support has improved considerably:</p>
<ul>
<li>implementation of new LSP features, such as support for LSP
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#on-type-formatting" target="_blank" rel="noopener noreferrer">On Type Formatting</a>
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#semantic-tokens" target="_blank" rel="noopener noreferrer">Semantic Tokens</a>,
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#call-hierarchy" target="_blank" rel="noopener noreferrer">Call Hierarchy</a>,
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#type-hierarchy" target="_blank" rel="noopener noreferrer">Type Hierarchy</a>,
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#document-symbol" target="_blank" rel="noopener noreferrer">Document Symbol</a>
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md#workspace-symbol" target="_blank" rel="noopener noreferrer">Workspace Symbol</a>, etc.</li>
<li><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPApi.md" target="_blank" rel="noopener noreferrer">LSP API client features</a> that allows plugin adapters to customize the LSP features.</li>
</ul>
<p>The latest version of LSP4IJ includes all of these improvements to LSP support, but what sets it apart from other releases
is that it provides a new, free and open-source <a href="https://microsoft.github.io/debug-adapter-protocol/" target="_blank" rel="noopener noreferrer">Debug Adapter Protocol</a> (DAP) client for JetBrains-based IDEs, compatible with both <strong>community</strong> and enterprise flavors.</p>
<p>Here is a list of some LSP improvements. To know in detail all the improvements, it is recommended to read the
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md" target="_blank" rel="noopener noreferrer">LSP support</a> section.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lsp-features">LSP features<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#lsp-features" class="hash-link" aria-label="Direct link to LSP features" title="Direct link to LSP features">​</a></h2>
<p>LSP hover now supports syntax coloration for markdown code blocks :</p>
<p><img decoding="async" loading="lazy" alt="LSP Hover / markdown" src="https://idetools.dev/assets/images/textDocument_hover_syntax_coloration-ac46c15b3adb47ccdfaf2cdcad9e44fe.png" width="732" height="696" class="img_ev3q"></p>
<p>LSP on type formatting is now supported:</p>
<p><img decoding="async" loading="lazy" alt="On Type Formatting" src="https://idetools.dev/assets/images/textDocument_onTypeFormatting-e94ed2cb4378c66c9629c65d0b341cea.gif" width="521" height="217" class="img_ev3q"></p>
<p>LSP selection range is now supported:</p>
<p><img decoding="async" loading="lazy" alt="LSP selection range" src="https://idetools.dev/assets/images/textDocument_selectionRange-4a5a39d2003f8d62f821fd7dbf06e7e7.gif" width="1018" height="204" class="img_ev3q"></p>
<p>LSP workspace symbol is now supported:</p>
<p><img decoding="async" loading="lazy" alt="LSP workspace symbol" src="https://idetools.dev/assets/images/workspace_symbol-ece7faca15b962eab0aa096e3cac5d4c.gif" width="699" height="337" class="img_ev3q"></p>
<p>LSP call hierarchy is now supported:</p>
<p><img decoding="async" loading="lazy" alt="LSP Call Hierarchy" src="https://idetools.dev/assets/images/textDocument_callHierarchy-c87e110a4df8b32dfe8ee1451fa7df88.png" width="1112" height="440" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-defined-language-server">User defined Language Server<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#user-defined-language-server" class="hash-link" aria-label="Direct link to User defined Language Server" title="Direct link to User defined Language Server">​</a></h2>
<p>Server configuration is done with a JSON editor that can be associated with a JSON schema
to provide validation, completion, and hovering when editing the server configuration:</p>
<p><img decoding="async" loading="lazy" alt="Set Breakpoint" src="https://idetools.dev/assets/images/server_configuration-83464c720db8472a2329b864e8a2ca16.png" width="914" height="330" class="img_ev3q"></p>
<h1>Debug Adapter Protocol (DAP)</h1>
<p><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/UserGuide.md" target="_blank" rel="noopener noreferrer">LSP4IJ's DAP support</a></p>
<ul>
<li>allows to connect to the DAP server via <code>stdio</code> and <code>socket</code></li>
<li>and handle both types of request <code>launch</code> and <code>attach</code>.</li>
</ul>
<p>Here is a list of DAP servers that have been tested to implement this DAP support:</p>
<table><thead><tr><th>DAP Server</th><th>stdio</th><th>socket</th><th>launch</th><th>attach</th></tr></thead><tbody><tr><td><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/go-delve.md" target="_blank" rel="noopener noreferrer">Go Delve DAP server</a></td><td></td><td>X</td><td>X</td><td></td></tr><tr><td><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/julia.md" target="_blank" rel="noopener noreferrer">Julia DAP server</a></td><td></td><td>X</td><td>X</td><td></td></tr><tr><td><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/python-debugpy.md" target="_blank" rel="noopener noreferrer">Python Debugpy DAP server</a></td><td></td><td>X</td><td></td><td>X</td></tr><tr><td><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/swift-lldb.md" target="_blank" rel="noopener noreferrer">Swift DAP Server</a></td><td>X</td><td></td><td>X</td><td></td></tr><tr><td><a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/vscode-js-debug.md" target="_blank" rel="noopener noreferrer">VSCode JS Debug DAP Server</a></td><td></td><td>X</td><td>X</td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vscode-js-debug">VSCode JS Debug<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#vscode-js-debug" class="hash-link" aria-label="Direct link to VSCode JS Debug" title="Direct link to VSCode JS Debug">​</a></h2>
<p>Takes a sample with vscode js debug</p>
<p>To debug JavaScript or TypeScript files, you can use the <a href="https://github.com/microsoft/vscode-js-debug" target="_blank" rel="noopener noreferrer">VSCode JS Debug</a> DAP server.</p>
<p>Let’s debugging the following <code>test.js</code> file:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Set Breakpoint" src="https://idetools.dev/assets/images/set_breakpoint-9608a7113030250c7ea146295b628030.png" width="698" height="182" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-dap-server">Configure DAP server<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#configure-dap-server" class="hash-link" aria-label="Direct link to Configure DAP server" title="Direct link to Configure DAP server">​</a></h3>
<ol>
<li>
<p>Download the <code>js-debug-dap-v*.tar.gz</code> asset from the <a href="https://github.com/microsoft/vscode-js-debug/releases" target="_blank" rel="noopener noreferrer">VSCode JS Debug releases</a>.<br>
<!-- -->For example, download <a href="https://github.com/microsoft/vscode-js-debug/releases/download/v1.96.0/js-debug-dap-v1.96.0.tar.gz" target="_blank" rel="noopener noreferrer">js-debug-dap-v1.96.0.tar.gz</a>, which is the latest version at the time of writing.</p>
</li>
<li>
<p>Extract the archive into any folder (e.g., <code>/home/path/to/dap</code>). The extracted folder should contain the DAP server at <code>/js-debug/src/dapDebugServer.js</code>.</p>
</li>
<li>
<p>Create a DAP Run/Debug configuration:</p>
<p><img decoding="async" loading="lazy" alt="DAP Configuration Type" src="data:image/png;base64,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" width="496" height="126" class="img_ev3q"></p>
</li>
<li>
<p>In the <code>Server</code> tab, click on <code>create a new server</code>:</p>
<p><img decoding="async" loading="lazy" alt="Create a new server" src="https://idetools.dev/assets/images/DAP_server_create_link-0e31673f48ca146650459e7c66a095ad.png" width="793" height="203" class="img_ev3q"></p>
</li>
<li>
<p>It opens a new dialog to create DAP server, select <code>VSCode JS Debug</code> template:
<img decoding="async" loading="lazy" alt="Select Template" src="https://idetools.dev/assets/images/select_template-c7d8bcaae70b6af2083149511d69eca2.png" width="798" height="757" class="img_ev3q"></p>
</li>
<li>
<p>After clicking on <code>OK</code> button, it will select the new server and pre-fill configurations:</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Select New server" src="https://idetools.dev/assets/images/select_new_server-a42103955132b6c56bebd1b5e82da5a3.png" width="799" height="655" class="img_ev3q"></p>
<p>This will automatically populate:</p>
<ul>
<li>the server <code>name</code></li>
<li>the <code>command</code> which starts the DAP server which should look like this:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node &lt;&lt;insert base directory&gt;&gt;/js-debug/src/dapDebugServer.js ${port} 127.0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Replace <code>&lt;&lt;insert base directory&gt;&gt;</code> with the directory  (e.g., <code>/home/path/to/dap</code>) where you extracted the DAP server. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node /home/path/to/dap/js-debug/src/dapDebugServer.js ${port} 127.0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>${port}</code> argument will be replaced with a free port when the run configuration starts.</p>
<ul>
<li>the <code>Connect to the server by waiting</code> option is set to <code>Log pattern before processing</code> with:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Debug server listening at</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This means the DAP (Debug Adapter Protocol) client will connect to the DAP server when this trace appears in the console:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node /home/path/to/dap/js-debug-dap-v1.96.0/js-debug/src/dapDebugServer.js 56425 127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Debug server listening at 127.0.0.1:56425</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="5">
<li>Enable DAP server traces</li>
</ol>
<p>If you wish to show DAP request/response traces when you will debug:</p>
<p><img decoding="async" loading="lazy" alt="Show DAP traces" src="https://idetools.dev/assets/images/traces_in_console-7ace86912d84ff7d8f55b38c4734cb9a.png" width="850" height="349" class="img_ev3q"></p>
<p>you need to select <code>Trace</code> with <code>verbose</code>.</p>
<p><img decoding="async" loading="lazy" alt="Set verbose traces" src="https://idetools.dev/assets/images/set_traces-0c7315ef27b10d281f625f8080ef4cb4.png" width="791" height="613" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-file-mappings">Configure file mappings<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#configure-file-mappings" class="hash-link" aria-label="Direct link to Configure file mappings" title="Direct link to Configure file mappings">​</a></h3>
<p>To allows settings breakpoints to JavaScript, TypeScript, etc files, you need configure mappings in the <code>Mappings</code> tab.
As you have selected <code>VSCode JS Debug</code> server, it will automatically populate the file mappings like this:</p>
<p><img decoding="async" loading="lazy" alt="File mappings" src="https://idetools.dev/assets/images/file_mappings_tab-17bca6fff33e502e5c07c20173a4e13d.png" width="792" height="512" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-javascript-file-to-rundebug">Configure the JavaScript file to run/debug<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#configure-the-javascript-file-to-rundebug" class="hash-link" aria-label="Direct link to Configure the JavaScript file to run/debug" title="Direct link to Configure the JavaScript file to run/debug">​</a></h3>
<ol>
<li>Fill in the <code>Configuration</code> tab:</li>
</ol>
<ul>
<li>the <code>working directory</code> (usually the project's root directory)</li>
<li>the path to the <code>test.js</code> file.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="DAP Configuration Type/Configuration" src="https://idetools.dev/assets/images/configuration_tab-e06e0fe2a624b766283dbaff02136dbe.png" width="788" height="641" class="img_ev3q"></p>
<ol start="2">
<li>Select <code>Launch</code> as <code>Debug mode</code>.</li>
<li>The DAP parameters of the launch should look like this:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pwa-node"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Launch JavaScript file"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"request"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"launch"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"program"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${file}"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"cwd"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${workspaceFolder}"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the run configuration starts:</p>
<ul>
<li><code>${workspaceFolder}</code> will be replaced with the working directory you specified.</li>
<li><code>${file}</code> will be replaced with the full path to <code>test.js</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-breakpoint">Set Breakpoint<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#set-breakpoint" class="hash-link" aria-label="Direct link to Set Breakpoint" title="Direct link to Set Breakpoint">​</a></h4>
<p>After applying the run configuration, you should set a breakpoint to files which matches file mappings.
Set a breakpoint in the <code>test.js</code> file:</p>
<p><img decoding="async" loading="lazy" alt="Set Breakpoint" src="https://idetools.dev/assets/images/set_breakpoint-9608a7113030250c7ea146295b628030.png" width="698" height="182" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="debugging">Debugging<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#debugging" class="hash-link" aria-label="Direct link to Debugging" title="Direct link to Debugging">​</a></h4>
<p>You can start the run configuration in either Run or Debug mode. Once started, you should see DAP traces in the console:</p>
<p><img decoding="async" loading="lazy" alt="Debugging / Console" src="https://idetools.dev/assets/images/debug_console_tab-cbf891be0d0cdd252cfe4dbd0c47be14.png" width="1377" height="885" class="img_ev3q"></p>
<p>You will also see <code>Threads</code> and <code>Variables</code>:</p>
<p><img decoding="async" loading="lazy" alt="Debugging / Threads" src="https://idetools.dev/assets/images/debug_threads_tab-ebf21647df38b0b5a0e70ae517f3a44b.png" width="1148" height="765" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-typescript-file-to-rundebug">Configure the TypeScript file to run/debug<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#configure-the-typescript-file-to-rundebug" class="hash-link" aria-label="Direct link to Configure the TypeScript file to run/debug" title="Direct link to Configure the TypeScript file to run/debug">​</a></h3>
<p>Let’s debugging the following <code>test.ts</code> file:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  greeting</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">greeting </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Hello, "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">greeting</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> greeter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Greeter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"world"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">greeter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">greet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Set Breakpoint" src="https://idetools.dev/assets/images/set_breakpoint_ts-4ce291e8dc2e44a1d9832188f02b7798.png" width="602" height="88" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="compile-typescript">Compile TypeScript<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#compile-typescript" class="hash-link" aria-label="Direct link to Compile TypeScript" title="Direct link to Compile TypeScript">​</a></h4>
<p>Create a <code>tsconfig.json</code> file like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"compilerOptions"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"target"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ES6"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"module"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"CommonJS"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"outDir"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"out"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"sourceMap"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Execute <code>tsc</code> command to generate source maps in the <code>out</code> folder:</p>
<ul>
<li><code>test.js</code></li>
<li><code>test.js.map</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-typescript-file-to-rundebug-1">Configure the TypeScript file to run/debug<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#configure-the-typescript-file-to-rundebug-1" class="hash-link" aria-label="Direct link to Configure the TypeScript file to run/debug" title="Direct link to Configure the TypeScript file to run/debug">​</a></h4>
<p>Select the <code>Launch TypeScript file</code> configuration:</p>
<p><img decoding="async" loading="lazy" alt="Select TypeScript Launch" src="https://idetools.dev/assets/images/select_typescript_launch-b9803939660a2106a920deeadb339c73.png" width="800" height="745" class="img_ev3q"></p>
<p>which will update the DAP parameters like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pwa-node"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Launch TypeScript file"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"request"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"launch"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"program"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${file}"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"cwd"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${workspaceFolder}"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"outFiles"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">"${workspaceFolder}/**/*.(m|c|)js"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">"!**/node_modules/**"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"sourceMaps"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">"__workspaceFolder"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${workspaceFolder}"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Update the path with the <code>test.ts</code> file.</p>
<p><img decoding="async" loading="lazy" alt="DAP Configuration Type/Configuration" src="https://idetools.dev/assets/images/configuration_ts_tab-25d2a496bfb9250c19182c8fc77ddd18.png" width="767" height="682" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-1">Debugging<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#debugging-1" class="hash-link" aria-label="Direct link to Debugging" title="Direct link to Debugging">​</a></h4>
<p>TypeScript debugging should be available:</p>
<p><img decoding="async" loading="lazy" alt="Debugging TypeScript" src="https://idetools.dev/assets/images/debug_ts-51e623d3cca858c69b36d9f3a6f7eadf.png" width="788" height="570" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-integrate-your-debug-adapter-server-in-an-intellij-plugin">How to integrate your Debug Adapter Server in an IntelliJ plugin.<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#how-to-integrate-your-debug-adapter-server-in-an-intellij-plugin" class="hash-link" aria-label="Direct link to How to integrate your Debug Adapter Server in an IntelliJ plugin." title="Direct link to How to integrate your Debug Adapter Server in an IntelliJ plugin.">​</a></h2>
<h1>Developer Guide</h1>
<p>DAP support provides a <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/UserGuide.md" target="_blank" rel="noopener noreferrer">generic DAP configuration interface</a> that allows to configure any DAP server.
The fact that it is generic can confuse the user with all the possible configurations.</p>
<p>To improve the user experience, it is possible to register a custom DAP server via the <strong>experimental</strong>
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/DeveloperGuide.md#debugadapterserver-extension-point" target="_blank" rel="noopener noreferrer"><code>com.redhat.devtools.lsp4ij.debugAdapterServer</code> extension point</a> which allows for example:</p>
<ul>
<li>to <a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#embed-the-dap-server">embed the DAP server in its plugin</a> to avoid the user to download it, to configure its environment.</li>
<li>to <a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#customize-the-dap-server-startup">customize the DAP server startup</a> to avoid the user to configure it.</li>
</ul>
<h1>TypeScript DAP server</h1>
<p>In this example we will explain how to register <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/vscode-js-debug.md" target="_blank" rel="noopener noreferrer">VSCode JS Debug DAP server</a>
with the <code>com.redhat.devtools.lsp4ij.debugAdapterServer</code> extension point.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="embed-the-dap-server">Embed the DAP server<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#embed-the-dap-server" class="hash-link" aria-label="Direct link to Embed the DAP server" title="Direct link to Embed the DAP server">​</a></h2>
<p>Here we will embed the <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/vscode-js-debug.md" target="_blank" rel="noopener noreferrer">VSCode JS Debug DAP server</a> in the plugin <code>my.plugin.id</code>.
You will need to download the <code>js-debug-dap-v*.tar.gz</code> asset from the <a href="https://github.com/microsoft/vscode-js-debug/releases" target="_blank" rel="noopener noreferrer">VSCode JS Debug releases</a>, unzip it
and copy/paste the <code>js-debug</code> folder in your <code>src/main/resources</code> folder:</p>
<p><img decoding="async" loading="lazy" alt="Embed VSCode JS Debug" src="https://idetools.dev/assets/images/DAP_server_embed-3a547006c0ab52254c31c0011fe7138a.png" width="578" height="590" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="customize-the-dap-server-startup">Customize the DAP server startup<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#customize-the-dap-server-startup" class="hash-link" aria-label="Direct link to Customize the DAP server startup" title="Direct link to Customize the DAP server startup">​</a></h2>
<p>Configuring manually <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/user-defined-dap/vscode-js-debug.md" target="_blank" rel="noopener noreferrer">VSCode JS Debug DAP server</a> can be boring:</p>
<ul>
<li>you need to download <code>js-debug-dap-v*.tar.gz</code>, unzip it, and update the <code>&lt;&lt;insert base directory&gt;&gt;</code>
to use the proper path of the DAP server.</li>
<li>the UI configuration is little complex.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="DAP generic interface server" src="https://idetools.dev/assets/images/DAP_generic_interface_server-af47451fafb39b646c1de29faab36d24.png" width="770" height="602" class="img_ev3q"></p>
<p>In this step we will register the DAP server with the <code>com.redhat.devtools.lsp4ij.debugAdapterServer</code> extension point.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugadapterdescriptor">DebugAdapterDescriptor<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#debugadapterdescriptor" class="hash-link" aria-label="Direct link to DebugAdapterDescriptor" title="Direct link to DebugAdapterDescriptor">​</a></h3>
<p>Create the <code>TypeScriptDebugAdapterDescriptor</code> class like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">my</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">dap</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">server</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ExecutionException</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">configurations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">GeneralCommandLine</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">configurations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">RunConfigurationOptions</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">process</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ProcessHandler</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">runners</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ExecutionEnvironment</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">openapi</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">fileTypes</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">FileType</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">client</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">LaunchUtils</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">configurations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">options</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">FileOptionConfigurable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">configurations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">options</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">WorkingDirectoryConfigurable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">definitions</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">DebugAdapterServerDefinition</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">descriptors</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">DebugAdapterDescriptor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">descriptors</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ServerReadyConfig</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">org</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">jetbrains</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">annotations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">NotNull</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">org</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">jetbrains</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">annotations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">Nullable</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">nio</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">file</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">Path</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">Map</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token import static namespace" style="opacity:0.7">com</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">redhat</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">devtools</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">lsp4ij</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">dap</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">descriptors</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static class-name">DebugAdapterDescriptorFactory</span><span class="token import static punctuation" style="color:#393A34">.</span><span class="token import static">getDebugAdapterServerPath</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TypeScriptDebugAdapterDescriptor</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">DebugAdapterDescriptor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">PLUGIN_ID</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my.plugin.id"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Path</span><span class="token plain"> dapServerPath</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dapServerPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getDebugAdapterServerPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">PLUGIN_ID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"js-debug/src/dapDebugServer.js"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">TypeScriptDebugAdapterDescriptor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">RunConfigurationOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            </span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">ExecutionEnvironment</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            </span><span class="token annotation punctuation" style="color:#393A34">@Nullable</span><span class="token plain"> </span><span class="token class-name">DebugAdapterServerDefinition</span><span class="token plain"> serverDefinition</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serverDefinition</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">ProcessHandler</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">startServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throws</span><span class="token plain"> </span><span class="token class-name">ExecutionException</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"node "</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dapServerPath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">" ${port} 127.0.0.1"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">GeneralCommandLine</span><span class="token plain"> commandLine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStartServerCommandLine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">startServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commandLine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">Object</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getDapParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// language=JSON</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> launchJson </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">"""                </span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "type": "pwa-node",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "name": "Launch TypeScript file",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "request": "launch",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "program": "${file}",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "cwd": "${workspaceFolder}",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "outFiles": [</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    "${workspaceFolder}/**/*.(m|c|)js",</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    "!**/node_modules/**"</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "sourceMaps": true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                  "__workspaceFolder": "${workspaceFolder}"</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                """</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">FileOptionConfigurable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> workspaceFolder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">WorkingDirectoryConfigurable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getWorkingDirectory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">LaunchUtils</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">LaunchContext</span><span class="token plain"> context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LaunchUtils</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">LaunchContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> workspaceFolder</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token class-name">LaunchUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getDapParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">launchJson</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">ServerReadyConfig</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getServerReadyConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">DebugMode</span><span class="token plain"> debugMode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ServerReadyConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Debug server listening at "</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@Nullable</span><span class="token plain"> </span><span class="token class-name">FileType</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getFileType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugadapterdescriptorfactory">DebugAdapterDescriptorFactory<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#debugadapterdescriptorfactory" class="hash-link" aria-label="Direct link to DebugAdapterDescriptorFactory" title="Direct link to DebugAdapterDescriptorFactory">​</a></h3>
<p>Create the <code>TypeScriptDebugAdapterDescriptorFactory</code> class like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">my</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">dap</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">server</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">execution</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">runners</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ExecutionEnvironment</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">configurations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">DAPRunConfigurationOptions</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">descriptors</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">DebugAdapterDescriptor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">dap</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">descriptors</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">DebugAdapterDescriptorFactory</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">org</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">jetbrains</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">annotations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">NotNull</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TypeScriptDebugAdapterDescriptorFactory</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">DebugAdapterDescriptorFactory</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">DebugAdapterDescriptor</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createDebugAdapterDescriptor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">DAPRunConfigurationOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               </span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">ExecutionEnvironment</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TypeScriptDebugAdapterDescriptor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getServerDefinition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugadapterserver-extension-point">debugAdapterServer extension point<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#debugadapterserver-extension-point" class="hash-link" aria-label="Direct link to debugAdapterServer extension point" title="Direct link to debugAdapterServer extension point">​</a></h3>
<p>Register the <code>TypeScriptDebugAdapterDescriptorFactory</code> class with the <code>debugAdapterServer</code> extension point like this:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">defaultExtensionNs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">com.redhat.devtools.lsp4ij</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">debugAdapterServer</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">typescript</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">TypeScript</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">factoryClass</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">my.dap.server.TypeScriptDebugAdapterDescriptorFactory</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-your-debugadapterserver">Test your debugAdapterServer<a href="https://idetools.dev/blog/lsp4ij-dap-announcement/#test-your-debugadapterserver" class="hash-link" aria-label="Direct link to Test your debugAdapterServer" title="Direct link to Test your debugAdapterServer">​</a></h3>
<p>At this step, you can test your <code>TypeScriptDebugAdapterDescriptorFactory</code> with the generic Debug Adapter Protocol runconfiguration.
You should see TypeScript in the existing server,</p>
<p><img decoding="async" loading="lazy" alt="DAP generic interface server" src="https://idetools.dev/assets/images/DAP_test_step1-dc77ce2406578e9351e414b0c35ea3cb.png" width="812" height="614" class="img_ev3q"></p>
<p>Select it, select the TypeScript file that you wish to run in the Configuration tab and run the configuration.
It should start your DAP server and execute the TypeScript file.</p>
<h1>Conclusion</h1>
<p>This article gives an overview of the new <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/UserGuide.md" target="_blank" rel="noopener noreferrer">DAP support</a> of LSP4IJ.</p>
<p>It allows to configure any DAP server with
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/UserGuide.md#dap-configuration-type" target="_blank" rel="noopener noreferrer">DAP configuration type</a>.</p>
<p>The <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/UserGuide.md#templates" target="_blank" rel="noopener noreferrer">DAP template system</a>
allows to pre-fill the configuration fields for a given DAP server.</p>
<p>Feel free to contribute to LSP4IJ to add other templates like <a href="https://github.com/redhat-developer/lsp4ij/tree/main/src/main/resources/dap/templates/vscode-js-debug" target="_blank" rel="noopener noreferrer">vscode-js-debug template</a></p>
<p>It also allows to integrate a DAP server via the <strong>experimental</strong>
<a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/dap/DeveloperGuide.md#debugadapterserver-extension-point" target="_blank" rel="noopener noreferrer"><code>com.redhat.devtools.lsp4ij.debugAdapterServer</code> extension point</a></p>]]></content>
        <author>
            <name>Angelo Zerr</name>
            <uri>https://github.com/angelozerr</uri>
        </author>
        <category label="lsp" term="lsp"/>
        <category label="intellij" term="intellij"/>
        <category label="lsp4ij" term="lsp4ij"/>
        <category label="dap" term="dap"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Supporting dynamic code actions in VS Code Java]]></title>
        <id>https://idetools.dev/blog/dynamic-proposals/</id>
        <link href="https://idetools.dev/blog/dynamic-proposals/"/>
        <updated>2024-09-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[I'm definitely not the first developer to say that quick fix suggestions make my life ten times easier. With dynamic proposals for code actions, my life gets even easier.]]></summary>
        <content type="html"><![CDATA[<p>I'm definitely not the first developer to say that quick fix suggestions make my life ten times easier. With dynamic proposals for code actions, my life gets even easier.</p>
<p>Many quick fixes have multiple suggestions for text replacement. In the Eclipse IDE, these are displayed in a dropdown selection menu. Take a look at the type mismatch quick fix below, for example:</p>
<p><img decoding="async" loading="lazy" alt="Example of linked proposal in Eclipse" src="https://idetools.dev/assets/images/linked-proposal-eclipse-af0e7b6cfa9c041b8f66724029f6e4a8.gif" width="501" height="199" class="img_ev3q"></p>
<p>Very helpful, right? Now let's take a look at how VS Code handles the same quick fix:</p>
<p><img decoding="async" loading="lazy" alt="Example of old proposal in VS Code" src="https://idetools.dev/assets/images/old-vscode-proposal-7c6e83ca2ad8f9e1aa5274eec8e4dc95.gif" width="687" height="200" class="img_ev3q"></p>
<p>No dropdown, no options, just the first item from Eclipse's list inserted statically. Definitely less helpful.</p>
<p>Why is this? Well, code actions in Eclipse support dropdown choices, as well as placeholders, which enable dynamic text insertion/replacement. Code actions in VS Code, on the other hand, do not. The closest we can get to simulating this behaviour in VS Code is by using snippets, which similarly have choices/placeholders. Unfortunately, we couldn't support snippet strings in code actions without violating the <a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener noreferrer">Language Server Protocol</a> specification... until now!</p>
<p>With the introduction and support of SnippetTextEdit in <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.18/specification/#snippetTextEdit" target="_blank" rel="noopener noreferrer">LSP</a> and <a href="https://code.visualstudio.com/api/references/vscode-api#SnippetTextEdit" target="_blank" rel="noopener noreferrer">VS Code</a>, dynamic code actions will now be supported in the upcoming release of vscode-java 1.35.0! If you can't wait, they're also available now in pre-release.</p>
<p>Check out the relevant <a href="https://github.com/redhat-developer/vscode-java/pull/3730" target="_blank" rel="noopener noreferrer">PR</a> in <a href="https://github.com/redhat-developer/vscode-java" target="_blank" rel="noopener noreferrer">vscode-java</a> and its supporting <a href="https://github.com/eclipse-jdtls/eclipse.jdt.ls/pull/3229" target="_blank" rel="noopener noreferrer">PR</a> in <a href="https://github.com/eclipse-jdtls/eclipse.jdt.ls" target="_blank" rel="noopener noreferrer">JDT-LS</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-point">The Point<a href="https://idetools.dev/blog/dynamic-proposals/#the-point" class="hash-link" aria-label="Direct link to The Point" title="Direct link to The Point">​</a></h2>
<p>Code actions, which were once completely static, now prompt you to alter relevant sections of text and give you multiple suggestions for insertion and replacement.</p>
<p><img decoding="async" loading="lazy" alt="Example of dynamic proposal in VS Code" src="https://idetools.dev/assets/images/dynamic-proposal-vscode-e6885afa991bc07f7b89c785c0d30dec.gif" width="1234" height="449" class="img_ev3q"></p>
<p>Pretty cool.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a href="https://idetools.dev/blog/dynamic-proposals/#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h2>
<p>This improvement doesn't come without a few minor setbacks.</p>
<p>For code actions that propose new types, the import for the selected type cannot be automatically resolved. Instead, after applying the code action and selecting the new type from the dropdown, the user has to either manually import the type, apply the subsequent quick fix suggestion to import the type, or issue the 'Organize Imports' command (<code>Shift</code> + <code>Alt</code> + <code>O</code>).</p>
<p>Additionally, any code action that involves multi-line text insertion will see additional indentation on all lines excluding the first one. You can see this happen in the above example. This is due to a <a href="https://github.com/microsoft/vscode/issues/63129" target="_blank" rel="noopener noreferrer">bug</a> in VS Code that automatically adds indentation to snippet strings.</p>]]></content>
        <author>
            <name>Hope Hadfield</name>
            <uri>https://github.com/hopehadfield</uri>
        </author>
        <category label="vscode" term="vscode"/>
        <category label="java" term="java"/>
        <category label="snippet" term="snippet"/>
        <category label="code actions" term="code actions"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Dropping support of older Java releases in vscode-java]]></title>
        <id>https://idetools.dev/blog/java-1_8-compliance/</id>
        <link href="https://idetools.dev/blog/java-1_8-compliance/"/>
        <updated>2024-08-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A percentage (~4%) of users trying out our latest release of vscode-java 1.33.0 were probably disappointed to note that we dropped support for Java versions prior to 1.8. This wasn't something we did intentionally but it happened in the JDT Core library that we rely on for much of our Java functionality. While losing existing functionality is frustrating, I'll go over why this change was necessary and how it will set up the JDT Core project, the Java language server (JDT-LS), and vscode-java for success in the longer term.]]></summary>
        <content type="html"><![CDATA[<p>A percentage (~4%) of users trying out our latest release of vscode-java <a href="https://github.com/redhat-developer/vscode-java/releases/tag/v1.33.0" target="_blank" rel="noopener noreferrer">1.33.0</a> were probably disappointed to note that we dropped support for Java versions prior to 1.8. This wasn't something we did intentionally but it happened in the <a href="https://github.com/eclipse-jdt/eclipse.jdt.core" target="_blank" rel="noopener noreferrer">JDT Core</a> library that we rely on for much of our Java functionality. While losing existing functionality is frustrating, I'll go over why this change was necessary and how it will set up the JDT Core project, the Java language server (<a href="https://github.com/eclipse-jdtls/eclipse.jdt.ls" target="_blank" rel="noopener noreferrer">JDT-LS</a>), and <a href="https://github.com/redhat-developer/vscode-java" target="_blank" rel="noopener noreferrer">vscode-java</a> for success in the longer term.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="theres-a-jep-for-that">There's a JEP for that<a href="https://idetools.dev/blog/java-1_8-compliance/#theres-a-jep-for-that" class="hash-link" aria-label="Direct link to There's a JEP for that" title="Direct link to There's a JEP for that">​</a></h3>
<p><a href="https://openjdk.org/jeps/182" target="_blank" rel="noopener noreferrer">JEP-182</a> already defines a process for this exact thing. Although the policy would have to change to take into account the 6-month release cadence, it's clear that a move towards supporting fewer older releases is desired.</p>
<p>As of now, <code>javac</code> from the OpenJDK 22 developments tools no longer support a pre-1.8 source/target/release flag :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ javac --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --release &lt;release&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Compile for the specified Java SE release.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Supported releases:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance-burden">Maintenance burden<a href="https://idetools.dev/blog/java-1_8-compliance/#maintenance-burden" class="hash-link" aria-label="Direct link to Maintenance burden" title="Direct link to Maintenance burden">​</a></h3>
<p>Going through the discussion ( <a href="https://github.com/eclipse-jdt/eclipse.jdt.core/discussions/820" target="_blank" rel="noopener noreferrer">https://github.com/eclipse-jdt/eclipse.jdt.core/discussions/820</a> ) in JDT Core to drop the support, it's clear there's a cost to supporting the older versions. It also affects the time it takes to implement new features that must deal with the added complexity from those older versions. Simplifying the codebase will translate into more features, implemented more quickly and an easier maintenance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="perspective">Perspective<a href="https://idetools.dev/blog/java-1_8-compliance/#perspective" class="hash-link" aria-label="Direct link to Perspective" title="Direct link to Perspective">​</a></h3>
<p>So where does that leave affected users ? They could continue to stay on vscode-java <a href="https://github.com/redhat-developer/vscode-java/releases/tag/v1.32.0" target="_blank" rel="noopener noreferrer">1.32.0</a>, until they update their project to Java 1.8 or above. It's definitely not ideal for those depending on older Java versions but the newer features, and improvements should certainly make up for it.</p>]]></content>
        <author>
            <name>Roland Grunberg</name>
            <uri>https://github.com/rgrunber</uri>
        </author>
        <category label="vscode" term="vscode"/>
        <category label="java" term="java"/>
        <category label="lsp" term="lsp"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Meet LSP4IJ, a new LSP Client for JetBrains-based IDEs]]></title>
        <id>https://idetools.dev/blog/lsp4ij-announcement/</id>
        <link href="https://idetools.dev/blog/lsp4ij-announcement/"/>
        <updated>2024-06-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[LSP4IJ is a new, free and open-source Language Server Protocol (LSP) client for JetBrains-based IDEs, compatible with both community and enterprise flavors.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://plugins.jetbrains.com/plugin/23257-lsp4ij" target="_blank" rel="noopener noreferrer">LSP4IJ</a> is a new, free and open-source Language Server Protocol (LSP) client for JetBrains-based IDEs, compatible with both <strong>community</strong> and enterprise flavors.</p>
<p>It provides outstanding features such as:</p>
<ul>
<li>The ability to <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md" target="_blank" rel="noopener noreferrer">configure LSP servers without developing a new plug-in</a> (restricted to stdio-based connections for the moment).</li>
<li>A <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/DeveloperGuide.md" target="_blank" rel="noopener noreferrer">set of API allowing third-party adopters to contribute LSP extensions</a> to the JetBrains ecosystem</li>
<li>a <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserGuide.md#lsp-console" target="_blank" rel="noopener noreferrer">console view</a>, allowing users to monitor and troubleshoot the communication between the IDE and the LSP servers.</li>
</ul>
<p>The client already supports a significant amount of <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md" target="_blank" rel="noopener noreferrer">features</a> from the LSP 3.17 specification, and more are on their way.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-lsp4ij">Why LSP4IJ?<a href="https://idetools.dev/blog/lsp4ij-announcement/#why-lsp4ij" class="hash-link" aria-label="Direct link to Why LSP4IJ?" title="Direct link to Why LSP4IJ?">​</a></h2>
<p>The Devtools team at Red Hat has been working on free and open-source language servers for <em>many</em> years. We have offered LSP implementations for <a href="https://github.com/eclipse/eclipse.jdt.ls/" target="_blank" rel="noopener noreferrer">Java</a>, <a href="https://github.com/redhat-developer/yaml-language-server" target="_blank" rel="noopener noreferrer">YAML</a>, <a href="https://github.com/eclipse/lemminx" target="_blank" rel="noopener noreferrer">XML</a>, <a href="https://github.com/eclipse/lsp4mp" target="_blank" rel="noopener noreferrer">MicroProfile</a>, <a href="https://github.com/redhat-developer/quarkus-ls" target="_blank" rel="noopener noreferrer">Quarkus</a> and <a href="https://github.com/redhat-developer/quarkus-ls/tree/master/qute.ls" target="_blank" rel="noopener noreferrer">Qute</a>, that were integrated into Visual Studio Code via several extensions. Some of those language servers have also been integrated into Eclipse IDE.</p>
<p>By 2019, JetBrains already provided some <a href="https://quarkus.io/" target="_blank" rel="noopener noreferrer">Quarkus</a> support in IntelliJ IDEA Ultimate to their paid customers. But when Red Hat wanted to bring the same awesome <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-quarkus" target="_blank" rel="noopener noreferrer">Quarkus tools</a> VS Code already had, to the wider IntelliJ IDEA Community, an LSP client for IntelliJ was needed.</p>
<p>At that time, we evaluated <a href="https://github.com/ballerina-platform/lsp4intellij" target="_blank" rel="noopener noreferrer">Ballerina's lsp4intellij library</a>, which provides advanced LSP support but has the following limitations:</p>
<ul>
<li>Quarkus / Qute language servers have a complicated mechanism, delegating parts of the work to the IDE's Java support (JDT for Eclipse and Psi for IntelliJ), to avoid parsing Java classes twice (once by the language server, another the built-in Java support). We encountered numerous freezes.</li>
<li>Ballerina implements certain LSP features without reusing IntelliJ built-in extension points (ex: hover, go to declaration)</li>
<li>Tracing server status (starting, started, stopping, stopped) is difficult, which makes server startup issues hard to troubleshoot.</li>
<li>Ballerina features are mostly based on a Timeout system, which stops LSP requests after a defined time.</li>
</ul>
<p>To integrate our Quarkus and Qute language servers, the LSP support in IntelliJ needed to:</p>
<ul>
<li>never freeze, even when the language server cannot be started.</li>
<li>not rely on a timeout system, but instead properly manage LSP request cancellations (when the file is modified for example)</li>
<li>provide a UI allowing easy tracking of the state of the language servers</li>
<li>provide an LSP console that displays LSP traces and server logs.</li>
</ul>
<p>For these reasons, we developed the LSP support we needed directly within the <a href="https://github.com/redhat-developer/intellij-quarkus/" target="_blank" rel="noopener noreferrer"><code>Quarkus Tools for IntelliJ</code></a> plugin. It actually started as a port of the <a href="https://github.com/eclipse/lsp4e" target="_blank" rel="noopener noreferrer"><code>Eclipse LSP4E</code></a> project. It took us several years, but we ended up with an LSP support that was mature and efficient.</p>
<p>In 2023, JetBrains finally decided to <a href="https://blog.jetbrains.com/platform/2023/07/lsp-for-plugin-developers/" target="_blank" rel="noopener noreferrer">start providing some LSP support</a>, but to only make it available in their commercial products, which was a not a good fit for us as we couldn't use it for <code>Quarkus Tools</code>. It was also lacking some features we really, really, liked in our LSP client, notably the LSP Consoles view.</p>
<p>Seeing our own LSP support held up pretty well for Quarkus and Qute, we decided to extract it into its own standalone project, to provide generic LSP support, for all JetBrains products, notably the community ones. Hence LSP4IJ was born.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lsp-support-overview">LSP support overview<a href="https://idetools.dev/blog/lsp4ij-announcement/#lsp-support-overview" class="hash-link" aria-label="Direct link to LSP support overview" title="Direct link to LSP support overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lsp-features">LSP features<a href="https://idetools.dev/blog/lsp4ij-announcement/#lsp-features" class="hash-link" aria-label="Direct link to LSP features" title="Direct link to LSP features">​</a></h3>
<p>LSP4IJ implements basic LSP features like <code>completion</code>, <code>validation</code>, <code>hover</code>, <code>go to definition</code>, but also more advanced ones, such as <code>codelens</code>, <code>inlay hints</code>, <code>quickfixes</code>, <code>rename</code>, <code>signature help</code> and others.</p>
<p>Here's a quick example showcasing the <a href="https://pkg.go.dev/golang.org/x/tools/gopls" target="_blank" rel="noopener noreferrer"><code>gopls</code></a> language server in action:</p>
<p><img decoding="async" loading="lazy" alt="Go Demo" src="https://idetools.dev/assets/images/GoplsDemo-0826d5b88b165166d7cff2f0924eec49.gif" width="699" height="337" class="img_ev3q"></p>
<p>The <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/LSPSupport.md" target="_blank" rel="noopener noreferrer">LSP Support</a> page provides a complete overview of what LSP4IJ supports and details how it leverages specific IntelliJ extension points. While most features work out-of-the-box, a few <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/DeveloperGuide.md#special-cases" target="_blank" rel="noopener noreferrer">cases</a> require special configuration.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cancellation-support">Cancellation Support<a href="https://idetools.dev/blog/lsp4ij-announcement/#cancellation-support" class="hash-link" aria-label="Direct link to Cancellation Support" title="Direct link to Cancellation Support">​</a></h4>
<p>In order to avoid using timeouts (that might still freeze the IDE), LSP4IJ implements <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#cancelRequest" target="_blank" rel="noopener noreferrer">Cancellation Support</a> to stop LSP requests when the file changes or when the IDE indicates the some requests (e.g. completion) are no longer relevant.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lsp-consoles-view">LSP consoles view<a href="https://idetools.dev/blog/lsp4ij-announcement/#lsp-consoles-view" class="hash-link" aria-label="Direct link to LSP consoles view" title="Direct link to LSP consoles view">​</a></h3>
<p>Although not often useful to users, the <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserGuide.md#lsp-console" target="_blank" rel="noopener noreferrer">LSP consoles view</a> is extremely valuable when one needs to troubleshoot issues with the language servers. All servers can be configured to log traces, as simple or verbose messages. This console view is similar to Visual Studio Code's Output view, only more convenient, as message contents are collapsible:</p>
<p><img decoding="async" loading="lazy" alt="LSP console" src="https://idetools.dev/assets/images/LSPConsole-494158253cd10f8b24dbd3e49a4421d4.png" width="1357" height="376" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="https://idetools.dev/blog/lsp4ij-announcement/#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<p>LSP4IJ requires at least Java 17 and IntelliJ-based IDEs 2023.2 at the moment.</p>
<p>The LSP4IJ plugin is available in the stable channel of the <a href="https://plugins.jetbrains.com/plugin/23257-lsp4ij" target="_blank" rel="noopener noreferrer">JetBrains Plugin Repository</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickly-get-started-with-lsp4ij">Quickly get started with LSP4IJ<a href="https://idetools.dev/blog/lsp4ij-announcement/#quickly-get-started-with-lsp4ij" class="hash-link" aria-label="Direct link to Quickly get started with LSP4IJ" title="Direct link to Quickly get started with LSP4IJ">​</a></h2>
<p>If you want to <em>quickly test your language server with LSP4IJ without having to develop a plugin</em> or <em>if you're unfamiliar with IntelliJ plugin development</em>, LSP4IJ offers the possibility of integrating any language server (<strong>only stdio mode is supported at the moment</strong>) with <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md" target="_blank" rel="noopener noreferrer">simple settings</a> where you only need to define:</p>
<ul>
<li>the language server <code>launch command</code></li>
<li>the <code>mapping</code> between the <code>language server</code> and the <code>files</code> targeted by the language server</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-adding-typescript-support">Example: Adding TypeScript support<a href="https://idetools.dev/blog/lsp4ij-announcement/#example-adding-typescript-support" class="hash-link" aria-label="Direct link to Example: Adding TypeScript support" title="Direct link to Example: Adding TypeScript support">​</a></h3>
<p>Free/community IntelliJ-based IDEs only provide basic support for <code>TypeScript</code> in the form of syntax highlighting. In this section, we'll explain step-by-step how to integrate the <a href="https://github.com/typescript-language-server/typescript-language-server" target="_blank" rel="noopener noreferrer">TypeScript language server</a> into your IntelliJ IDE, without having to develop anything, and immediately benefit from <code>TypeScript</code>, <code>React</code> and <code>JavaScript</code> support (completion, validation, quickfixes, codelens, etc):</p>
<p><img decoding="async" loading="lazy" alt="TypeScriptServerDemo" src="https://idetools.dev/assets/images/TypeScriptServerDemo-cb555792bf6462f148dae6265e1466d4.gif" width="755" height="358" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-install-the-language-server">Step 1: Install the language server<a href="https://idetools.dev/blog/lsp4ij-announcement/#step-1-install-the-language-server" class="hash-link" aria-label="Direct link to Step 1: Install the language server" title="Direct link to Step 1: Install the language server">​</a></h4>
<p>This step describes how to install the language server. In our case, <code>typescript-language-server</code> is <code>Node.js</code> application and thus requires the <code>Node.js</code> runtime to run.</p>
<p>You will need to:</p>
<ul>
<li><a href="https://nodejs.org/en/download" target="_blank" rel="noopener noreferrer">Install <code>Node.js</code></a></li>
<li><a href="https://github.com/typescript-language-server/typescript-language-server?tab=readme-ov-file#installing" target="_blank" rel="noopener noreferrer">Install <code>typescript-language-server</code></a>. The simplest way is to open a terminal and execute the following command:</li>
</ul>
<blockquote>
<p>npm install -g typescript-language-server typescript</p>
</blockquote>
<p>It will install:</p>
<ul>
<li><a href="https://github.com/typescript-language-server/typescript-language-server" target="_blank" rel="noopener noreferrer">TypeScript language server</a>: this project delegates the LSP operations (completion, diagnostics, etc) to the <code>tsserver</code> from <a href="https://github.com/microsoft/TypeScript" target="_blank" rel="noopener noreferrer">TypeScript</a> which doesn't support LSP itself.</li>
<li><a href="https://github.com/microsoft/TypeScript" target="_blank" rel="noopener noreferrer">TypeScript</a> which includes <code>tsserver</code>.</li>
<li>As the command will add <code>typescript-language-server</code> to your OS PATH, you will probably have to close and reopen your IDE for the command to be accessible by LSP4IJ.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-a-language-server-in-lsp4ij">Step 2: Create a language server in LSP4IJ<a href="https://idetools.dev/blog/lsp4ij-announcement/#step-2-create-a-language-server-in-lsp4ij" class="hash-link" aria-label="Direct link to Step 2: Create a language server in LSP4IJ" title="Direct link to Step 2: Create a language server in LSP4IJ">​</a></h4>
<p>In order to create a new <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md" target="_blank" rel="noopener noreferrer">User-defined language server</a>, you need to open the <code>New Language Server</code> dialog, either:</p>
<ul>
<li>from the menu on the right of the LSP console:</li>
</ul>
<p><img decoding="async" loading="lazy" alt="New Language Server From Console" src="https://idetools.dev/assets/images/NewLanguageServerFromConsole-b82856f8cc14028e0fff03a198ca5697.png" width="873" height="348" class="img_ev3q"></p>
<ul>
<li>or with the <code>[+]</code> on the top of the language server settings:</li>
</ul>
<p><img decoding="async" loading="lazy" alt="New Language Server From Settings" src="https://idetools.dev/assets/images/NewLanguageServerFromSettings-4fc2817a810b888ed97ef9cd31f25be5.png" width="564" height="455" class="img_ev3q"></p>
<p>Once you clicked on either of them, the dialog will appear:</p>
<p><img decoding="async" loading="lazy" alt="New Language Server Dialog" src="https://idetools.dev/assets/images/NewLanguageServerDialogEmpty-ef5aaebff2b14ab16d4471cdc443a4bc.png" width="798" height="542" class="img_ev3q"></p>
<p>To quickly configure TypeScript support, you could use the <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/user-defined-ls/typescript-language-server.md" target="_blank" rel="noopener noreferrer">TypeScript template</a> which will pre-fill all fields (command and mappings), but in order to better understand the process, let's do that manually:</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="define-launch-command">Define launch command<a href="https://idetools.dev/blog/lsp4ij-announcement/#define-launch-command" class="hash-link" aria-label="Direct link to Define launch command" title="Direct link to Define launch command">​</a></h5>
<p>In the <code>Server</code> tab, set:</p>
<ul>
<li><code>Name</code> as <code>TypeScript Language Server</code>.</li>
<li><code>Command</code> as <code>typescript-language-server --stdio</code></li>
</ul>
<p><img decoding="async" loading="lazy" alt="New Language Server Dialog with TypeScript" src="https://idetools.dev/assets/images/TypeScriptServerDialog-0a3292d16a8feb97fceaf0a93ff77f1a.png" width="807" height="536" class="img_ev3q"></p>
<p>Note that you can use <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md#macro-syntax" target="_blank" rel="noopener noreferrer">macros in your commands</a>, to make them more portable, should you choose to <a href="https://idetools.dev/blog/lsp4ij-announcement/#Export-server">export you server</a>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="define-mappings">Define mappings<a href="https://idetools.dev/blog/lsp4ij-announcement/#define-mappings" class="hash-link" aria-label="Direct link to Define mappings" title="Direct link to Define mappings">​</a></h5>
<p>In the <code>Mappings &gt; File name patterns</code> tab, associate <code>*.ts</code>, <code>*.tsx</code>, <code>*.jsx</code> files to the language server as shown below :</p>
<table><thead><tr><th>File Name Pattern</th><th>Language Id</th></tr></thead><tbody><tr><td>*.jsx</td><td>javascriptreact</td></tr><tr><td>*.ts</td><td>typescript</td></tr><tr><td>*.tsx</td><td>typescriptreact</td></tr></tbody></table>
<p><img decoding="async" loading="lazy" alt="File name patterns" src="https://idetools.dev/assets/images/TypeScriptServerDialog_FileNamePatterns-e4be8703e9826aff8fbac9c64f54fc31.png" width="795" height="522" class="img_ev3q"></p>
<p>The value in the <code>Language Id</code> column must be one of the language identifiers defined in the <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textDocumentItem" target="_blank" rel="noopener noreferrer">LSP specification</a>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="define-configuration">Define configuration<a href="https://idetools.dev/blog/lsp4ij-announcement/#define-configuration" class="hash-link" aria-label="Direct link to Define configuration" title="Direct link to Define configuration">​</a></h5>
<p>By default, <code>codelens</code> and <code>inlayhint</code> are not available in the TypeScript Language Server, you can enable them by filling the <code>Configuration</code> tab with the following JSON settings:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"typescript"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"inlayHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayEnumMemberValueHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayFunctionLikeReturnTypeHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayFunctionParameterTypeHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayParameterNameHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"all"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayParameterNameHintsWhenArgumentMatchesName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayPropertyDeclarationTypeHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayVariableTypeHints"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"includeInlayVariableTypeHintsWhenTypeMatchesName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"implementationsCodeLens"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"enabled"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"referencesCodeLens"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"enabled"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"showOnAllFunctions"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="TypeScript Language Server configuration page" src="https://idetools.dev/assets/images/ts-ls-config-83a1510bd963052e7b535ff0b1f51b9b.png" width="805" height="559" class="img_ev3q"></p>
<p>Click the <code>OK</code> button, and you should see the <code>TypeScript Language Server</code> in the <code>Language Servers</code> view:</p>
<p><img decoding="async" loading="lazy" alt="TypeScript Language Server in the console view" src="https://idetools.dev/assets/images/ts-ls-traces-d1b9901e7325048494e700e8944be54b.png" width="1166" height="314" class="img_ev3q"></p>
<p>Create a <code>ts</code> file and open it. The <code>TypeScript Language Server</code> should start and you should now be able to use TypeScript support with completion, hover, linting...</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-template">Using a Template<a href="https://idetools.dev/blog/lsp4ij-announcement/#using-a-template" class="hash-link" aria-label="Direct link to Using a Template" title="Direct link to Using a Template">​</a></h3>
<p>LSP4IJ provides <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md#using-template" target="_blank" rel="noopener noreferrer">a few templates</a> for various language servers. You can select the <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/user-defined-ls/typescript-language-server.md" target="_blank" rel="noopener noreferrer">TypeScript Language Server</a> template which will pre-fill all fields previously described (server name, command and mappings).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-server">Export server<a href="https://idetools.dev/blog/lsp4ij-announcement/#export-server" class="hash-link" aria-label="Direct link to Export server" title="Direct link to Export server">​</a></h3>
<p>If you want to share your language server settings, you can <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md#exporting-templates" target="_blank" rel="noopener noreferrer">export it</a> to generate a zip file, that, once shared and unzipped to a directory, can be <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/UserDefinedLanguageServer.md#custom-template" target="_blank" rel="noopener noreferrer">imported</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-integrate-your-language-server-in-an-intellij-plugin">How to integrate your language server in an IntelliJ plugin.<a href="https://idetools.dev/blog/lsp4ij-announcement/#how-to-integrate-your-language-server-in-an-intellij-plugin" class="hash-link" aria-label="Direct link to How to integrate your language server in an IntelliJ plugin." title="Direct link to How to integrate your language server in an IntelliJ plugin.">​</a></h2>
<p>Manually defining a language server via settings allows you to add a language server into IntelliJ in a few minutes, but if you need to provide better integration with the IDE, embedding the language server definition in an IntelliJ plugin will be a better solution:</p>
<ul>
<li>it is possible to embed the language server and/or provide a mechanism to download/update the language server, etc. make it easier for users to get started.</li>
<li>advanced language servers require implementing specific client-side commands, which is only possible through the development of an IntelliJ plugin.</li>
</ul>
<p>The <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/DeveloperGuide.md" target="_blank" rel="noopener noreferrer">Developer Guide</a>  provides step-by-step instructions for contributing an LSP language server in your IntelliJ plugin.</p>
<p>The following example shows how to integrate the <code>TypeScript Language Server</code> in an IntelliJ plugin. In your plugin.xml, you would declare the server like this:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">defaultExtensionNs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">com.redhat.devtools.lsp4ij</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">server</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">typeScriptLanguageServerId</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">TypeScript Language Server</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name" style="color:#00a4db">factoryClass</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">com.yourplugin.lsp.TypeScriptLanguageServerFactory</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token cdata" style="color:#999988;font-style:italic">&lt;![CDATA[</span><br></span><span class="token-line" style="color:#393A34"><span class="token cdata" style="color:#999988;font-style:italic">        Some description written in HTML, that will be displayed in the LSP consoles view and Language Servers settings.</span><br></span><span class="token-line" style="color:#393A34"><span class="token cdata" style="color:#999988;font-style:italic">        ]]&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">server</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>and mappings like this by using <a href="https://github.com/redhat-developer/lsp4ij/blob/main/docs/DeveloperGuide.md#file-name-pattern-mapping" target="_blank" rel="noopener noreferrer">File name pattern mapping</a>:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">defaultExtensionNs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">com.redhat.devtools.lsp4ij</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">fileNamePatternMapping</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">patterns</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">*.ts</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                            </span><span class="token tag attr-name" style="color:#00a4db">serverId</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">typeScriptLanguageServerId</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                            </span><span class="token tag attr-name" style="color:#00a4db">languageId</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">typescript</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">extensions</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>com.yourplugin.lsp.TypeScriptLanguageServerFactory</code> factory class looks like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">com</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">yourplugin</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">lsp</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">intellij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">openapi</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">project</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">Project</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">LanguageServerFactory</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">client</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">LanguageClientImpl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">server</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">StreamConnectionProvider</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">org</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">jetbrains</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">annotations</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">NotNull</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TypeScriptLanguageServerFactory</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">implements</span><span class="token plain"> </span><span class="token class-name">LanguageServerFactory</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">StreamConnectionProvider</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createConnectionProvider</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@NotNull</span><span class="token plain"> </span><span class="token class-name">Project</span><span class="token plain"> project</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TypeScriptLanguageServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">com</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">yourplugin</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">lsp</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">com</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">redhat</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">devtools</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">lsp4ij</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">server</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ProcessStreamConnectionProvider</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">List</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TypeScriptLanguageServer</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">ProcessStreamConnectionProvider</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">MyLanguageServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> commands </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"typescript-language-server"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"--stdio"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setCommands</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commands</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This code assumes <code>typescript-language-server</code> is available on the PATH, but it could be improved to target an embedded TypeScript language server inside your IntelliJ plugin.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://idetools.dev/blog/lsp4ij-announcement/#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>This article only scratches the surface of what <code>LSP4IJ</code> provides. You can find more documentation in:</p>
<ul>
<li><a href="https://github.com/redhat-developer/lsp4ij/tree/main/docs/UserGuide.md" target="_blank" rel="noopener noreferrer">the user guide</a>, describing how to use the LSP consoles view and Language Server preferences.</li>
<li><a href="https://github.com/redhat-developer/lsp4ij/tree/main/docs/LSPSupport.md" target="_blank" rel="noopener noreferrer">the LSP Support overview</a>, detailing which LSP features are implemented, and how.</li>
<li><a href="https://github.com/redhat-developer/lsp4ij/tree/main/docs/UserDefinedLanguageServer.md" target="_blank" rel="noopener noreferrer">the User-defined language server documentation</a>, explaining how to integrate a language server in LSP4IJ with minimal settings.</li>
<li><a href="https://github.com/redhat-developer/lsp4ij/tree/main/docs/DeveloperGuide.md" target="_blank" rel="noopener noreferrer">the developer guide</a>, providing step-by-step instructions on how to integrate a language server in LSP4IJ in an external IntelliJ plugin.</li>
</ul>
<p>Creating a new LSP client for JetBrains-based IDEs has been a very humbling and rewarding experience. With each new language server we tested, we found slightly different behaviors to account for, eventually making LSP4IJ more and more robust.
The initial feedback from the community has been very encouraging so far. We hope you will find LSP4IJ useful!</p>
<p>If you find any bugs or can think of ideas for some great new features, please don’t hesitate to head over to our Github repository and <a href="https://github.com/redhat-developer/lsp4ij/issues" target="_blank" rel="noopener noreferrer">open a ticket</a>. Since our test framework is built around <a href="https://github.com/redhat-developer/lsp4ij/blob/main/src/test/java/com/redhat/devtools/lsp4ij/features/completion/GoCompletionTest.java" target="_blank" rel="noopener noreferrer">LSP requests</a>, you just need to copy traces from the LSP Consoles view so we can reproduce issues you find with your language server and fix them.</p>]]></content>
        <author>
            <name>Angelo Zerr</name>
            <uri>https://github.com/angelozerr</uri>
        </author>
        <author>
            <name>Fred Bricon</name>
            <uri>https://github.com/fbricon</uri>
        </author>
        <category label="lsp" term="lsp"/>
        <category label="intellij" term="intellij"/>
        <category label="lsp4ij" term="lsp4ij"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Create a Test Kubernetes Cluster With an Unprivileged User]]></title>
        <id>https://idetools.dev/blog/k8s-create-unprivileged-user/</id>
        <link href="https://idetools.dev/blog/k8s-create-unprivileged-user/"/>
        <updated>2024-05-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Motivation]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">​</a></h2>
<p>You are working on a software tool that interacts with Kubernetes clusters.
You would like to troubleshoot bugs arising due to insufficient permissions
by simulating an environment where the user has heavily restricted permissions on the cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>This tutorial assumes you are using Linux or macOS. The same general steps should work on Windows, except the paths and commands might be slightly different.</li>
<li>Install <a href="https://kind.sigs.k8s.io/docs/user/quick-start/" target="_blank" rel="noopener noreferrer">kind</a>, needed to create the cluster.</li>
<li><em>(Optional)</em> install <a href="https://github.com/ahmetb/kubectx#installation" target="_blank" rel="noopener noreferrer">kubectx</a>, helpful for switching Kubernetes contexts.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you don't install <code>kubectx</code>,
you can change Kubernetes contexts by opening <code>~/.kube/config</code>,
and modifying the value of <code>current-context</code> to the name of the context you want to work with.
However, I find that it's much faster to use <code>kubectx</code>.
The tutorial is written assuming you have installed <code>kubectx</code>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#steps" class="hash-link" aria-label="Direct link to Steps" title="Direct link to Steps">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-cluster">Creating the Cluster<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#creating-the-cluster" class="hash-link" aria-label="Direct link to Creating the Cluster" title="Direct link to Creating the Cluster">​</a></h3>
<p>First, create the <code>kind</code> cluster:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kind create cluster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This should take around a minute.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-service-account">Creating the Service Account<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#creating-the-service-account" class="hash-link" aria-label="Direct link to Creating the Service Account" title="Direct link to Creating the Service Account">​</a></h3>
<p>Once the cluster is up and running, create a service account:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create serviceaccount my-service-account</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And create a token associated with the service account:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create token my-service-account </span><span class="token parameter variable" style="color:#36acaa">--duration</span><span class="token plain"> 72h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This second command will output the token into the console.
Make sure to copy this token into your clipboard.</p>
<p>Open up your kube config (<code>~/.kube/config</code>), and create a new user entry in the <code>users</code> section:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">users:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">- name: my-service-account</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  user:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    token: # PASTE TOKEN HERE AND REMOVE NEWLINES</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">- name: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  user:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Make sure to add the token into the user entry and remove any newlines that are placed in the middle of the token,
otherwise you will be unable to use the service account</p></div></div>
<p>Then, go up to the <code>contexts</code> section, and add the following new context:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">contexts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">- context:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    cluster: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    namespace: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    user: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  name: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">- context:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    cluster: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    namespace: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    user: my-service-account</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  name: my-service-account-ctx</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">current-context: kind-kind</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">kind: Config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-role-and-role-binding">Creating the Role and Role Binding<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#creating-the-role-and-role-binding" class="hash-link" aria-label="Direct link to Creating the Role and Role Binding" title="Direct link to Creating the Role and Role Binding">​</a></h3>
<p>Next, create the following file, <code>service-account-permissions.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterRole</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> can</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiGroups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"pods"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">verbs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"get"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"list"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"watch"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterRoleBinding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> can</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">binding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">subjects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> system</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">serviceaccount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiGroup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">roleRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterRole</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> can</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiGroup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.authorization.k8s.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then, apply this YAML to the cluster using the following command:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">f service</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">permissions.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This creates a <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#role-and-clusterrole" target="_blank" rel="noopener noreferrer"><code>ClusterRole</code></a>,
which is a set of actions that an account is allowed to perform across all namespaces in a cluster.
The <code>ClusterRole</code> is called <code>"can-list-pod"</code>, and it allows the user to list pods in all namespaces.
The YAML file also creates a <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#rolebinding-and-clusterrolebinding" target="_blank" rel="noopener noreferrer"><code>ClusterRoleBinding</code></a>,
which specifies that <code>"my-service-account"</code>, the service account we just created,
should have the <code>ClusterRole</code> <code>"can-list-pod"</code>.</p>
<p>Next, we need to switch to the newly created service account.
To do this, run <code>kubectx my-service-account-ctx</code> to switch to the context that we created by editing <code>~/.kube/config</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-account">Testing the account<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#testing-the-account" class="hash-link" aria-label="Direct link to Testing the account" title="Direct link to Testing the account">​</a></h3>
<p>In order to test that the account was created successfully,
try listing the namespaces on the cluster:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get namespace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should get an "unauthorized" warning,
because the only thing the service account is allowed to do on the cluster is list pods.</p>
<p>Next, let's verify that you can list pods.
We should create a pod on the cluster so that there is something to list.
Use <code>kubectx kind-kind</code> to switch back to the <code>kind-kind</code> context,
so that you have permissions to create pods.</p>
<p>Then, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create deployment </span><span class="token parameter variable" style="color:#36acaa">--image</span><span class="token plain"> quay.io/davthomp/pet-alpine my-deployment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This creates a deployment, which will automatically create and manage a pod.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>About the container image</div><div class="admonitionContent_BuS1"><p>The container image that's being run is from my Quay repository.
It runs a "Hello World" webapp written in Go,
i.e. it serves the text "hello" over HTTP on port 8080 at the endpoint <code>/hello</code>.
It uses Alpine Linux as the base image.</p></div></div>
<p>Then, switch back to the <code>my-service-account-ctx</code> context using <code>kubectx my-service-account-ctx</code>,
and then try to list the pods:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should see one pod that's listed: the pod managed by the deployment we created.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h3>
<p>You've successfully set up a service account with heavily restricted access to the cluster.</p>
<p>If you want to give the service account more permissions, you can modify and reapply <code>service-account-permissions.yaml</code>.
You will need to switch back to the <code>kind-kind</code> user in order to reapply the changes.
Refer to <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/" target="_blank" rel="noopener noreferrer">the Kubernetes documentation on role-based access control</a>
for more information on setting up the permissions for the account.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up">Cleaning Up<a href="https://idetools.dev/blog/k8s-create-unprivileged-user/#cleaning-up" class="hash-link" aria-label="Direct link to Cleaning Up" title="Direct link to Cleaning Up">​</a></h3>
<p>Once you are done with the cluster,
make sure to delete it.
Also, make sure to remove the new user and context that you created from your <code>~/.kube/config</code>,
since they will no longer exist when you delete the cluster.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Check out our developer tools</div><div class="admonitionContent_BuS1"><p>If you liked this blog post,
make sure to check out <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-openshift-connector" target="_blank" rel="noopener noreferrer">VS Code OpenShift Toolkit</a>
or <a href="https://plugins.jetbrains.com/plugin/12030-openshift-toolkit-by-red-hat" target="_blank" rel="noopener noreferrer">Intellij OpenShift Toolkit</a>,
which enable you to interact with your Kubernetes or OpenShift cluster right from your IDE.</p></div></div>]]></content>
        <author>
            <name>David Thompson</name>
            <uri>https://github.com/datho7561</uri>
        </author>
        <category label="kubernetes" term="kubernetes"/>
    </entry>
</feed>